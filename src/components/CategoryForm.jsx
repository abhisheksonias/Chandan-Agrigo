
// import React, { useState, useEffect } from 'react';
// import { motion } from 'framer-motion';
// import { Button } from '@/components/ui/button';
// import { Input } from '@/components/ui/input';
// import { Label } from '@/components/ui/label';
// import { useToast } from '@/components/ui/use-toast';

// const CategoryForm = ({ category, onSubmit, onCancel }) => {
//   const { toast } = useToast();
//   const isEditing = !!category;

//   const [formData, setFormData] = useState({
//     name: '',
//     description: '',
//   });

//   const [errors, setErrors] = useState({});

//   useEffect(() => {
//     if (category) {
//       setFormData({
//         name: category.name || '',
//         description: category.description || '',
//       });
//     }
//   }, [category]);

//   const handleChange = (e) => {
//     const { name, value } = e.target;
//     setFormData(prev => ({ ...prev, [name]: value }));
    
//     // Clear error when field is edited
//     if (errors[name]) {
//       setErrors(prev => ({ ...prev, [name]: undefined }));
//     }
//   };

//   const validateForm = () => {
//     const newErrors = {};
    
//     if (!formData.name.trim()) newErrors.name = 'Name is required';
    
//     setErrors(newErrors);
//     return Object.keys(newErrors).length === 0;
//   };

//   const handleSubmit = (e) => {
//     e.preventDefault();
    
//     if (!validateForm()) {
//       toast({
//         title: 'Validation Error',
//         description: 'Please fix the errors in the form',
//         variant: 'destructive',
//       });
//       return;
//     }
    
//     onSubmit(formData);
//   };

//   return (
//     <motion.form 
//       onSubmit={handleSubmit}
//       initial={{ opacity: 0, y: 20 }}
//       animate={{ opacity: 1, y: 0 }}
//       transition={{ duration: 0.3 }}
//       className="space-y-6"
//     >
//       <div className="space-y-4">
//         <div className="space-y-2">
//           <Label htmlFor="name">Category Name</Label>
//           <Input
//             id="name"
//             name="name"
//             value={formData.name}
//             onChange={handleChange}
//             className={errors.name ? 'border-red-500' : ''}
//           />
//           {errors.name && <p className="text-sm text-red-500">{errors.name}</p>}
//         </div>
        
//         <div className="space-y-2">
//           <Label htmlFor="description">Description</Label>
//           <textarea
//             id="description"
//             name="description"
//             value={formData.description}
//             onChange={handleChange}
//             rows={4}
//             className="w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"
//           />
//         </div>
//       </div>
      
//       <div className="flex justify-end space-x-2">
//         <Button type="button" variant="outline" onClick={onCancel}>
//           Cancel
//         </Button>
//         <Button type="submit">
//           {isEditing ? 'Update Category' : 'Add Category'}
//         </Button>
//       </div>
//     </motion.form>
//   );
// };

// export default CategoryForm;
